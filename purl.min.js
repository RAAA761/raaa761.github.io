function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"function"==typeof define&&define.amd?define(t):window.purl=t()}(function(){var n={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],e={anchor:"fragment"},s={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},f=/^[0-9]+$/;function u(t,r){if(0===t[r].length)return t[r]={};var e={};for(var n in t[r])e[n]=t[r][n];return t[r]=e}function c(t,r,e){if(~r.indexOf("]")){!function t(r,e,n,a){var o=r.shift();if(o){var i=e[n]=e[n]||[];"]"==o?h(i)?""!==a&&i.push(a):"object"==_typeof(i)?i[function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r}(i).length]=a:i=e[n]=[e[n],a]:(~o.indexOf("]")&&(o=o.substr(0,o.length-1)),!f.test(o)&&h(i)&&(i=u(e,n)),t(r,i,o,a))}else h(e[n])?e[n].push(a):"object"==_typeof(e[n])?e[n]=a:void 0===e[n]?e[n]=a:e[n]=[e[n],a]}(r.split("["),t,"base",e)}else{if(!f.test(r)&&h(t.base)){var n={};for(var a in t.base)n[a]=t.base[a];t.base=n}""!==r&&function(t,r,e){var n=t[r];void 0===n?t[r]=e:h(n)?n.push(e):t[r]=[n,e]}(t.base,r,e)}return t}function p(t){return function(t,r){var e=0,n=t.length>>0,a=arguments[2];for(;e<n;)e in t&&(a=r.call(void 0,a,t[e],e,t)),++e;return a}(String(t).split(/&|;/),function(t,r){try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}var e=r.indexOf("="),n=function(t){for(var r,e,n=t.length,a=0;a<n;++a)if("]"==(e=t[a])&&(r=!1),"["==e&&(r=!0),"="==e&&!r)return a}(r),a=r.substr(0,n||e),o=r.substr(n||e,r.length);return o=o.substr(o.indexOf("=")+1,o.length),""===a&&(a=r,o=""),c(t,a,o)},{base:{}}).base}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t,r){return 1===arguments.length&&!0===t&&(r=!0,t=void 0),r=r||!1,{data:function(t,r){for(var e=decodeURI(t),n=s[r?"strict":"loose"].exec(e),a={attr:{},param:{},seg:{}},o=14;o--;)a.attr[i[o]]=n[o]||"";return a.param.query=p(a.attr.query),a.param.fragment=p(a.attr.fragment),a.seg.path=a.attr.path.replace(/^\/+|\/+$/g,"").split("/"),a.seg.fragment=a.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),a.attr.base=a.attr.host?(a.attr.protocol?a.attr.protocol+"://"+a.attr.host:a.attr.host)+(a.attr.port?":"+a.attr.port:""):"",a}(t=t||window.location.toString(),r),attr:function(t){return void 0!==(t=e[t]||t)?this.data.attr[t]:this.data.attr},param:function(t){return void 0!==t?this.data.param.query[t]:this.data.param.query},fparam:function(t){return void 0!==t?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return void 0===t?this.data.seg.path:(t=t<0?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return void 0===t?this.data.seg.fragment:(t=t<0?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}return a.jQuery=function(e){null!=e&&(e.fn.url=function(t){var r="";return this.length&&(r=e(this).attr(function(t){var r=t.tagName;return void 0!==r?n[r.toLowerCase()]:r}(this[0]))||""),a(r,t)},e.url=a)},a.jQuery(window.jQuery),a});